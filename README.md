# –ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç –∏ —Å—á–µ—Ç–æ–≤

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –Ω–∞–±–æ—Ä —Ñ—É–Ω–∫—Ü–∏–π –Ω–∞ Python –¥–ª—è –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏ –Ω–æ–º–µ—Ä–æ–≤ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –∫–∞—Ä—Ç –∏ —Å—á–µ—Ç–æ–≤.  –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Å—Ç—ã–µ –∏ —É–¥–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∑–∞—â–∏—Ç—ã –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –æ—Å—Ç–∞–≤–ª—è—è –≤–∏–¥–∏–º—ã–º–∏ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —á–∞—Å—Ç–∏ –Ω–æ–º–µ—Ä–∞. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö, —Å–∏—Å—Ç–µ–º–∞—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π –∏ –¥—Ä—É–≥–∏—Ö –æ–±–ª–∞—Å—Ç—è—Ö, –≥–¥–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Ä–µ–∫–≤–∏–∑–∏—Ç–∞—Ö.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**

    ```bash
    git clone https://github.com/–≤–∞—à_–ª–æ–≥–∏–Ω/–∏–º—è_–≤–∞—à–µ–≥–æ_—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.git  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à—É —Å—Å—ã–ª–∫—É
    ```

2.  **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞:**

    ```bash
    cd –∏–º—è_–≤–∞—à–µ–≥–æ_—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
    ```

3.  **–°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**

    ```bash
    python -m venv .venv
    source .venv/bin/activate  # Linux/macOS
    .venv\Scripts\activate  # Windows
    ```

4.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**

    ```bash
    pip install pytest
    ```
    (–í —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ pytest –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ç–µ—Å—Ç–æ–≤.)

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–í –ø—Ä–æ–µ–∫—Ç–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:

*   `mask_card_number(card_number)`: –ú–∞—Å–∫–∏—Ä—É–µ—Ç –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã, –æ—Å—Ç–∞–≤–ª—è—è –≤–∏–¥–∏–º—ã–º–∏ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 4 —Ü–∏—Ñ—Ä—ã (—Ñ–æ—Ä–º–∞—Ç: '**********XXXX').  –¢—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã `card_number` —Å–æ—Å—Ç–æ—è–ª —Ç–æ–ª—å–∫–æ –∏–∑ —Ü–∏—Ñ—Ä.
*   `mask_account_number(account_number)`: –ú–∞—Å–∫–∏—Ä—É–µ—Ç –Ω–æ–º–µ—Ä —Å—á–µ—Ç–∞, –æ—Å—Ç–∞–≤–ª—è—è –æ—Ç–∫—Ä—ã—Ç—ã–º–∏ –ø–µ—Ä–≤—ã–µ –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 4 —Ü–∏—Ñ—Ä—ã (—Ñ–æ—Ä–º–∞—Ç: 'XXXX********XXXX'). –¢—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã `account_number` —Å–æ—Å—Ç–æ—è–ª —Ç–æ–ª—å–∫–æ –∏–∑ —Ü–∏—Ñ—Ä.
*   `mask_account_card(payment_info)`: –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ `payment_info` –Ω–æ–º–µ—Ä–æ–º –∫–∞—Ä—Ç—ã –∏–ª–∏ —Å—á–µ—Ç–æ–º, –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –º–∞—Å–∫–∏—Ä–æ–≤–∫—É. –ï—Å–ª–∏ –¥–ª–∏–Ω–∞ `payment_info` <= 16, —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–æ–º–µ—Ä–æ–º –∫–∞—Ä—Ç—ã; –∏–Ω–∞—á–µ - –Ω–æ–º–µ—Ä–æ–º —Å—á–µ—Ç–∞.  –¢—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã `payment_info` —Å–æ—Å—Ç–æ—è–ª —Ç–æ–ª—å–∫–æ –∏–∑ —Ü–∏—Ñ—Ä.  –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `ValueError` –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –Ω–æ–º–µ—Ä–∞.

–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```python
from src.masking_functions import mask_card_number, mask_account_number, mask_account_card

card_number = "1234567890123456"
masked_card = mask_card_number(card_number)
print(f"–ó–∞–º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã: {masked_card}")  # –í—ã–≤–æ–¥: ************3456

account_number = "12345678901234567890"
masked_account = mask_account_number(account_number)
print(f"–ó–∞–º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–æ–º–µ—Ä —Å—á–µ—Ç–∞: {masked_account}") # –í—ã–≤–æ–¥: 1234**********90

payment_info = "1234567890123456"
masked_payment = mask_account_card(payment_info)
print(f"–ó–∞–º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–ª–∞—Ç–µ–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: {masked_payment}") # –í—ã–≤–æ–¥: ************3456

try:
    invalid_payment = "abc1234"
    masked_invalid = mask_account_card(invalid_payment)
except ValueError as e:
    print(f"–û—à–∏–±–∫–∞: {e}") # –í—ã–≤–æ–¥: –û—à–∏–±–∫–∞: –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–∞.
```

# üè¶ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏

–ú–æ–¥—É–ª—å `generators` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pip install -e .
```

## üõ† –ú–æ–¥—É–ª—å `generators`

### üîé `filter_by_currency(transactions, currency)`
–§–∏–ª—å—Ç—Ä—É–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ –≤–∞–ª—é—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏–π.

**–ê—Ä–≥—É–º–µ–Ω—Ç—ã:**
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `transactions` | `List[Dict]` | –°–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π |
| `currency` | `str` | –ö–æ–¥ –≤–∞–ª—é—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, "USD") |

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `Iterator[Dict]` - –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤–∞–ª—é—Ç–µ

**–ü—Ä–∏–º–µ—Ä:**
```python
from generators import filter_by_currency

transactions = [
    {
        "id": 1,
        "operationAmount": {
            "amount": "100.00",
            "currency": {"code": "USD"}
        }
    },
    {
        "id": 2,
        "operationAmount": {
            "amount": "200.00",
            "currency": {"code": "EUR"}
        }
    }
]

# –ü–æ–ª—É—á–∞–µ–º —Ç–æ–ª—å–∫–æ USD-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
for transaction in filter_by_currency(transactions, "USD"):
    print(transaction["id"])  # –í—ã–≤–µ–¥–µ—Ç: 1
```

### üìù `transaction_descriptions(transactions)`
–ò–∑–≤–ª–µ–∫–∞–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.

**–ü—Ä–∏–º–µ—Ä:**
```python
from generators import transaction_descriptions

data = [
    {"description": "Payment for services"},
    {"description": "Money transfer"}
]

descriptions = transaction_descriptions(data)
print(next(descriptions))  # "Payment for services"
```

### üí≥ `card_number_generator(start, end)`
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ `XXXX XXXX XXXX XXXX`.

**–ü—Ä–∏–º–µ—Ä –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ 5 –Ω–æ–º–µ—Ä–æ–≤:**
```python
from generators import card_number_generator

for card in card_number_generator(1, 5):
    print(card)

# 0000 0000 0000 0001
# 0000 0000 0000 0002
# ... 
# 0000 0000 0000 0005
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
pytest --cov=generators tests/
```

## –õ–∏—Ü–µ–Ω–∑–∏—è
Nikonorov.M
